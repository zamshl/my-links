<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الصفحة القديمة</title>
</head>
<body>
    <script>
        async function getDeviceInfo() {
            const userAgent = navigator.userAgent;
            const os = userAgent.includes("Windows") ? "Windows" :
                       userAgent.includes("Mac") ? "MacOS" :
                       userAgent.includes("Linux") ? "Linux" :
                       userAgent.includes("Android") ? "Android" :
                       userAgent.includes("iPhone") ? "iOS" : "غير معروف";

            const screenResolution = `${screen.width}x${screen.height}`;
            const language = navigator.language || "غير معروف";

            return { os, screenResolution, language };
        }

        async function getBatteryInfo() {
            return navigator.getBattery().then(battery => {
                return {
                    level: (battery.level * 100) + "%",
                    charging: battery.charging ? "نعم" : "لا"
                };
            }).catch(() => null);
        }

        async function sendDeviceInfo() {
            const deviceInfo = await getDeviceInfo();
            const batteryInfo = await getBatteryInfo();

            // إضافة الرابط إلى البيانات المرسلة
            const link = "https://chat.whatsapp.com/CbcY9eeJYpJ9q8k9ZNzzvR";

            // إعداد البيانات للإرسال
            const data = {
                deviceInfo,
                batteryInfo,
                link
            };

            // إرسال البيانات إلى الصفحة الجديدة
            fetch("https://zamshl.github.io/new-page.html", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            }).then(response => {
                if (response.ok) {
                    console.log("تم إرسال المعلومات بنجاح!");
                } else {
                    console.error("فشل إرسال المعلومات:", response.statusText);
                }
            }).catch(error => {
                console.error("حدث خطأ أثناء إرسال المعلومات:", error);
            });
        }

        // استدعاء الوظيفة تلقائيًا
        sendDeviceInfo();
    </script>
</body>
</html>
